# 아이템[14] - Comparable을 구현할지 고려하라

`compareTo()` 는 단순 동치성 비교에 더해 순서까지 비교할 수 있다.

예시 이미지

자바 플랫폼 라이브러리의 모든 값 클래스와 열거 타입이 Comparable을 구현했다.

자료 이미지

**알파벳, 숫자, 연대 같이 순서가 명확한 값 클래스를 작성한다면 반드시 Comparable 인터페이스를 구현하자.**

비교객체보다 자신이 더 작으면 음의 정수를, 같으면 0을, 크면 양의 정수를 반환한다.  
비교할 수 없는 객체가 주어지면 ClassCastException을 던진다.

필수는 아니지만 꼭 지키는게 좋은 것은 equals 메서드와 일관되게 작성하는것이다.   
compareTo 메서드로 수행한 동치성 테스트의 결과가 equals와 같아야 한다. 안지키면 컬렉션에서 예상치 못한 결과를 낳을수 있다. 정렬된 컬렉션의 경우 equals가 아닌 compareTo를 이용하여 정렬을 시도한다.

```java
(x.compareTo(y) == 0) == x.equals(y)
```

지키지 않을 거면 명시를 해줘야한다.

공통 인터페이스를 매개로 서로 다른 타입간의 비교또한 허용한다.

지켜야할 규약

- 첫 번째 규약, 반사성. 
  (x.compareTo(y) < 0) 이라면 (y.compareTo(x) > 0) 이다.

- 두 번째 규약, 추이성.  
  x.compareTo(y) <0 이고 y.compareTo(z) <0 이라면 x.compareTo(z) < 0 이다.

- 세 번재 규약, 대칭성. 
  크기가 같은 객체들끼리는 어떤 객체와 비교하더라도 항상 같아야한다.

주의점

- 기존 클래스를 확장한 구체 클래스에 새로운 값 컴포넌트를 추가했다면 compareTo 규약을 지킬 방법이 없다.
  - Point, ColorPoint (이퀄즈때처럼)
  - 확장 대신 조합을 이용하여 풀자, 뷰 메서드를 제공하자 asPoint같이