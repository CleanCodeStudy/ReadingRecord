# 4장. 역할, 책임, 협력

#### 객체의 세계에서도 협력이라는 문맥이 객체의 행동방식을 결정한다.

#### 문맥의 고려 없이 객체의 상태, 행동을 고민하면 안된다.

------



### 협력

협력의 시작은 한 사람이 다른 사람에게 도움을 `요청`할 때 시작 = 자신이 해결 할 수 없는 문제를 만났을 때

그리고 이러한 협력은 다수의 연쇄적 `요청`과 `응답`의 흐름으로 구성된다. (재판 속의 협력)

------

### 책임

해당 객체가 어떠한 `요청`에 대해 적절한 `행동`을 할 의무가 있는가.



##### 책임의 분류

1. 하는 것
   - 객체를 생성하거나 계산을 하는 등의 스스로 하는것
   - 다른 객체의 행동을 시작시키는 것
   - 다른 객체의 활동을 제어하고 조절하는 것
2. 아는 것
   - 개인적인 정보에 관해 아는 것
   - 관련된 객체에 관해 아는 것
   - 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것



책임은 객체의 `공용 인터페이스`를 구성한다.

- 객체의 `하는 것`에 있는 `다른 객체의 행동을 시작 시키는 것` 에서, 다른 객체의 행동을 시작 시키기 위해서 다른 객체는 외부에 제공해 줄 수 있는 서비스의 목록을 제공해야하고 이것을 객체가 속한 타입(클래스)의 `공용 인터페이스`라고 하는 것 같다.

앞에서 다뤘던 `메세지`를 `책임`을 같은 것으로 바라보면 안된다. `메세지 ∈ 책임`의 관계로 책임이 좀 더 상위 수준의 추상화된 것이고 메세지는 이러한 책임의 일부에 속한다고 봐야한다.

------

### 역할

##### 책임의 집합이 의미하는 것

재판에서 `증인석에 입장한다`와 `증언하다`라는 모자장수의 `책임`은 증인으로서의 `역할`을 수행하고 있음을,

`재판하다`라는 왕의 `책임`은 판사라는 `역할`을 수행하고 있음을 알 수 있다.

즉, 특정 `협력`안에서 수행하는 `역할`은 해당 객체가 수행하는 `책임`에 따라 결정된다.

이렇게 `역할`을 또 나누는 것은 `역할`은 재사용 가능하고 유연한 객체지향 설계를 낳는 매우 중요한 구성요소이기 때문이다. 

- 로또 게임때 번호생성기라는 역할과 번호를 생성한다는 책임을 가진 인터페이스를 구현하는 랜덤번호생성기, 고정번호생성기 두 객체 모두 같은 행동을 하고 같은 역할을 했던 것이 생각나서 이해하기 쉬웠던것 같음.

