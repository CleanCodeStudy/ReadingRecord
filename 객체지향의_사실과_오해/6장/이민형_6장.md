## 6장. 객체 지도

- 지도는 구조적이고 문제 지향적인 접근법, 구체적인 기능이 아니라 '구조' 를 제공한다
- 구조를 기반으로 모델을 구축하는 편이 좀 더 범용적이고 이해하기 쉬우며 변경에 안정적이다
- 안정적인 구조를 중심으로 기능을 구조에 종속시키는 접근이 필요하다
- 즉, 객체지향은 안정적인 구조를 기반으로 시스템을 구조화한다



#### 기능 설계 대 구조 설계

- 기능 설계 : 제품이 사용자를 위해 무엇을 할 수 있는지에 초점
- 구조 설계 : 제품의 형태가 어떠해야 하는지에 초점
- 성공적인 소프트웨어의 특징 : 훌륭한 기능을 제공하는 동시에 사용자가 원하는 새로운 기능을 빠르고 안정적으로 추가할 수 있다는 점
- 변경에 대한 필요성때문에 설계라는 행위가 굉장히 중요해진다
  - 변경을 예측하는 것 이아닌 변경을 수용할 수 있는 선택의 여지를 설계에 마련해 놓는 것이 중요
  - 변경의 여지를 위해 안정적인 구조를 중심으로 설계하는 것이 중요
- 객체 지도는 안정적이며 재사용 가능하면서도 범용적이다



#### 기능과 구조

- 구조 : 사용자나 이해관계자들이 도메인에 관해 생각하는 개념과 개념들 간의 관계로 표현

  > 구조를 수집하고 표현하기 위한 기법을 **도메인 모델링**, 그 결과물을 **도메인 모델**

- 기능 : 사용자의 목표를 만족시키기 위해 책임을 수행하는 시스템의 행위로 표현

  > 기능을 수집하고 표현하기 위한 기법을 **유스케이스 모델링**, 그 결과물을 **유스케이스 모델**



#### 안정적인 재료 : 구조

- **<u>도메인</u>** : 사용자가 프로그램을 사용하는 대상 분야

- **<u>모델</u>** : 대상을 추상화하고 단순화한 것

- **<u>도메인 모델</u>** : 사용자가 프로그램을 사용하는 대상 영역에 관한 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태, 소프트웨어 개발과 관련된 이해관계자들이 도메인에 대해 생각하는 관점 또는 멘탈 모델

  >도메인 모델이 제공하는 구조는 상대적으로 안정적이다
  >
  >안정적인 구조를 제공하는 도메인 모델을 기반으로 소프트웨어 구조를 설계하면 변경에 유연하게 대응할 수 있는 탄력적인 소프트웨어를 구현할 수 있다

- **<u>멘탈 모델</u>** : 사람들이 자신이 상호작용하는 사물들에 대해 갖는 모형

- 설계자가 제품을 설계할 때 제품에 관한 시스템 이미지가 사용자들이 제품에 대해 가지고 있는 멘탈 모델을 정확하게 반영해야한다

- **<u>연결완정성</u>** : 도메인에 대한 사용자 모델, 디자인 모델, 시스템 이미지가 유사한 모습을 유지하도록 만드는 객체지향의 특성

- **<u>표현적 차이</u>** : 소프트웨어 객체와 현실 객체 사이의 의미적 거리

  > 도메인 모델 은유를 통해 표현적 차이를 최대한 줄이는 것이 핵심



#### 불안정한 재료 : 기능

- **<u>유스케이스</u>** : 사용자의 목표를 달성하기 위해 사용자와 시스템 간에 이뤄지는 상호작용의 흐름을 <u>텍스트</u>로 정리한 것

  > 유스케이스는 시스템의 이해관계자들 간의 계약을 행위 중심으로 파악
  >
  > 유스케이스는 이해관계자들 중에서 일차 액터라 불리는 행위자의 요청에 대한 시스템의 응답으로서, 다양한 조건하의 있는 시스템의 행위를 서술한다
  >
  > 유스케이스는 서로 다른 시나리오를 묶어 준다

  - 일차 액터 : 시스템의 서비스 중 하나를 요청하는 이해관계자로, 하나의 목표를 가지고 유스케이스를 시작하는 액터를 의미

  - 사용자들의 목표를 중심으로 시스템의 기능적인 요구사항들을 이야기 형식으로 묶을 수 있다

  - 유스케이스는 다이어그램이 아닌, 사용자와 시스템 간의 상호작용을 보여주는 '텍스트'다

  - 유스케이스는 하나의 시나리오가 아닌 여러 시나리오들의 집합이다

    >시나리오를 '유스케이스 인스턴스' 라고도 한다

  - 유스케이스는 단순한 피처(feature) 목록과 다르다

    > 피처는 시스템이 수행하야하는 기능의 목록을 단순하게 나열한 것

  - 유스케이스는 사용자 인터페이스와 관련된 세부 정보를 포함하지 말아야 한다

    > 사용자의 관점에서 시스템의 행위에 초점을 맞춘다

  - 유스케이스는 내부 설계와 관련된 정보를 포함하지 않는다



#### 재료합치기 : 기능과 구조의 통합

- 유스케이스에 정리된 시스템의 기능을 도메인 모델을 기반으로 한 객체들의 책임으로 분배해야한다
- 사용자에게 시스템이 수행하기로 약속한 기능은 시스템의 책임으로 볼 수 있다
- 시스템의 기능을 시스템의 책임으로 바꾼후 도메인 모델을 통해 책임을 수행할 객체들을 선택한다
- 책임-주도 설계 방법은 시스템의 기능을 역할과 책임을 수행하는 객체들의 협력 관계로 바라보게 함으로써 유스케이스와 도메인 모델을 통합한다

- 객체지향에서는 도메인 모델링 기법과 도메인을 프로그래밍하는 기법이 동일하기 때문에 코드의 변경으로 부터 도메인 모델의 변경 사항을 유추할 수 있다.

  > 코드에서 도메인 모델로의 매끄러운 흐름을 의미하는 것을 **가역성**이라 한다

